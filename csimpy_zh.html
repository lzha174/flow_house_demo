<!DOCTYPE html>
<html lang="zh">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>CSimPy</title>
  <link rel="stylesheet" href="style.css" />
  <style>
    .indented-list {
      margin-left: 2em;
      padding-left: 1em;
    }
    .bullet-heading {
      background-color: #f9f9f9;
      border: 1px solid #ddd;
      padding: 4px 8px;
      display: inline-block;
      border-radius: 4px;
      margin-bottom: 0.3em;
    }
    pre code {
      background-color: #2d2d2d;
      color: #f8f8f2;
      display: block;
      padding: 1em;
      border-radius: 4px;
      overflow-x: auto;
    }
  </style>
</head>
<body class="light-theme">
  <header>
    <h1>CSimPy</h1>
    <nav>
      <a href="index_zh.html">Flow House</a>
      <a href="csimpy_zh.html">CSimPy</a>
    </nav>
  </header>
  <div style="position:absolute; top:40px; right:20px;">
    <a href="index_zh.html" 
       style="display:inline-block; padding:6px 12px; background-color:#ffffff; color:#222; 
              text-decoration:none; border-radius:4px; font-size:0.9em; border:1px solid #ccc;">
      â† è¿”å›é¦–é¡µ
    </a>
  </div>

  <section class="intro">
    <h1>CSimPy <a href="https://github.com/lzha174/csimpy" target="_blank" style="font-size:0.5em; margin-left:10px;">(GitHub)</a></h1>
    <p>
      CSimPy æ˜¯ä¸€ä¸ªè½»é‡çº§çš„åŸºäº C++20 åç¨‹çš„ç¦»æ•£äº‹ä»¶ä»¿çœŸå¼•æ“ï¼Œçµæ„Ÿæ¥è‡ª SimPyã€‚
      å®ƒæ—¨åœ¨å°† SimPy é£æ ¼çš„ APIå¸¦å…¥ C++ ç”Ÿæ€ç³»ç»Ÿã€‚
      è¯¥æ¡†æ¶ä¸ºç ”ç©¶äººå‘˜å’Œå­¦ç”Ÿæä¾›äº†ä¸€ä¸ªä½¿ç”¨ C++20 åç¨‹æ¢ç´¢ç¦»æ•£äº‹ä»¶ä»¿çœŸçš„å¹³å°ï¼Œæ¬¢è¿å¤§å®¶å¯¹å¼€æºä»£ç è¿›è¡Œè´¡çŒ®ã€‚
    </p>
  </section>

  <section class="core-components">
    <h2>ğŸ“¦ æ ¸å¿ƒç»„ä»¶</h2>

    <h3>1. <code>CSimpyEnv</code></h3>
    <p><span class="bullet-heading">ä»¿çœŸç¯å¢ƒï¼Œè´Ÿè´£ç®¡ç†ï¼š</span></p>
    <ul class="indented-list">
      <li><code>sim_time</code>: å½“å‰ä»¿çœŸæ—¶é—´</li>
      <li><code>event_queue</code>: æ¨¡æ‹Ÿäº‹ä»¶é˜Ÿåˆ—</li>
      <li><code>schedule()</code>: æ ¹æ® <code>sim_time</code> å°†äº‹ä»¶æ’å…¥é˜Ÿåˆ—</li>
      <li>æ¨è¿›ä»¿çœŸæ—¶é—´å¹¶æ ¹æ®äº‹ä»¶è§¦å‘äº‹ä»¶è¿›è¡Œæ¨¡æ‹Ÿ</li>
    </ul>

    <h3>2. <code>SimEvent</code></h3>
    <p><span class="bullet-heading">äº‹ä»¶åŸºç±»ï¼Œæ”¯æŒï¼š</span></p>
    <ul class="indented-list">
      <li>å›è°ƒæ³¨å†Œ</li>
      <li>è¿›ç¨‹æŒ‚èµ·å’Œæ¢å¤</li>
      <li>æ‰‹åŠ¨æˆ–è‡ªåŠ¨è§¦å‘</li>
    </ul>

    <h3>3. <code>SimDelay</code></h3>
    <p><code>SimEvent</code> çš„å­ç±»ï¼Œç”¨äºåŸºäºæ—¶é—´çš„å»¶è¿Ÿã€‚</p>

    <h3>4. <code>CoroutineProcess</code></h3>
    <p>å°†åç¨‹å°è£…ä¸ºä»¿çœŸä»»åŠ¡ï¼Œåœ¨äº‹ä»¶é˜Ÿåˆ—ä¸­è°ƒåº¦ä»¥æ¢å¤ã€‚</p>

    <h3>5. <code>AllOfEvent</code></h3>
    <p>ç­‰å¾…å¤šä¸ª <code>SimEvent</code> å®Œæˆçš„äº‹ä»¶ï¼Œå½“æ‰€æœ‰ä¾èµ–è§¦å‘æ—¶å®Œæˆã€‚</p>

    <h3>6. <code>AnyOfEvent</code></h3>
    <p>ç­‰å¾…å¤šä¸ª <code>SimEvent</code> çš„äº‹ä»¶ï¼Œåªè¦å…¶ä¸­ä»»ä½•ä¸€ä¸ªè§¦å‘å°±ç«‹å³å®Œæˆï¼Œå¹¶ç§»é™¤å…¶ä»–äº‹ä»¶çš„å›è°ƒã€‚</p>

    <h3>7. <code>Container</code></h3>
    <p>æ”¯æŒ <code>put()</code> å’Œ <code>get()</code> æ“ä½œçš„èµ„æºå®¹å™¨ï¼Œå…·æœ‰å®¹é‡é™åˆ¶ã€‚é€‚ç”¨äºæ¨¡æ‹Ÿåº“å­˜ã€æµä½“ç­‰å¯æ¶ˆè€—æˆ–å¯ç”Ÿäº§çš„èµ„æºã€‚</p>

    <h3>8. <code>Store</code></h3>
    <p>
      ä¸€ä¸ªç”¨äºå­˜å‚¨ <code>ItemBase</code> æ´¾ç”Ÿå¯¹è±¡çš„èµ„æºä»“åº“ï¼Œå…·æœ‰å®¹é‡é™åˆ¶ã€‚
      æ”¯æŒ <code>put()</code> å’Œ <code>get()</code> æ“ä½œï¼Œä½¿ç”¨åç¨‹ <code>co_await</code>ã€‚
      <code>get()</code> æ–¹æ³•å¯ä»¥æ¥å—ç­›é€‰ Lambda ä»¥é€‰æ‹©ç‰¹å®šçš„æ¡ç›®ï¼Œç±»ä¼¼äº SimPy çš„ FilterStoreã€‚
    </p>
  </section>

  <section class="examples">
    <h3>ğŸ“– ç¤ºä¾‹</h3>
    <pre><code>/**
 * ç®€å•ç¤ºä¾‹ï¼šæ¼”ç¤ºåŸºäºåç¨‹çš„å»¶è¿Ÿäº‹ä»¶ã€‚
 * åˆ›å»ºä¸€ä¸ªç­‰å¾… 15 ä¸ªæ—¶é—´å•ä½çš„ä»»åŠ¡ï¼Œä½¿ç”¨ SimDelayï¼Œ
 * åœ¨å¼€å§‹å’Œç»“æŸæ—¶æ‰“å°æ¶ˆæ¯ï¼Œå¹¶è¿è¡Œä»¿çœŸã€‚
 */
#include "csimpy_env.h"

CSimpyEnv env;
Task wait_example = env.create_task([]() -> Task {
    std::cout << "[" << env.sim_time << "] wait_example å¼€å§‹\n";
    co_await SimDelay(env, 15);
    std::cout << "[" << env.sim_time << "] wait_example ç»“æŸ\n";
});

int main() {
    env.schedule(wait_example, "wait_example");
    env.run();
    return 0;
}</code></pre>
    <h4>è¾“å‡º:</h4>
    <pre><code>[0] wait_example å¼€å§‹
[15] wait_example ç»“æŸ</code></pre>

  </section>

  <section class="features">
    <h2>âš¡ ç‰¹æ€§</h2>
    <ul class="indented-list">
      <li>åŸºäºäº‹ä»¶çš„åç¨‹ä»¿çœŸ</li>
      <li>çµæ´»çš„äº‹ä»¶è°ƒåº¦</li>
      <li>æ”¯æŒå¤æ‚çš„äº‹ä»¶ä¾èµ–</li>
      <li>åŸç”Ÿæ”¯æŒå¼‚æ­¥å’Œå¹¶è¡Œäº‹ä»¶</li>
      <li>è½»é‡ä¸”æ˜“äºé›†æˆ</li>
    </ul>
  </section>

  <section class="usage">
    <h2>ğŸ”§ ç”¨æ³•</h2>
    <p>åœ¨é¡¹ç›®ä¸­åŒ…å« CSimPy å¤´æ–‡ä»¶ã€‚ä½¿ç”¨ <code>CSimpyEnv</code> åˆ›å»ºä»¿çœŸç¯å¢ƒï¼Œå®šä¹‰äº‹ä»¶å’Œè¿›ç¨‹ï¼Œå¹¶è¿è¡Œä»¿çœŸå¾ªç¯ã€‚</p>
  </section>

  <footer>
    <p>&copy; 2025 Lei (Oddo) Zhang</p>
    <p><a href="https://github.com/lzha174/csimpy" target="_blank">æŸ¥çœ‹ GitHub</a></p>
  </footer>
</body>
<!-- LikeBtn.com BEGIN -->
<script>(function(d,e,s){if(d.getElementById("likebtn_wjs"))return;a=d.createElement(e);m=d.getElementsByTagName(e)[0];a.async=1;a.id="likebtn_wjs";a.src=s;m.parentNode.insertBefore(a, m)})(document,"script","//w.likebtn.com/js/w/widget.js");</script>
<!-- LikeBtn.com END -->
</html>
